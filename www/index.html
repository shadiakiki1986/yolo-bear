<!DOCTYPE HTML> 
<html lang="en" ng-app> 
<head>
<title>yolo-bear</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta http-equiv="Content-Language" content="en-us"> 

        <script src="js/vendor/jquery-2.1.1.min.js"></script>
        <script src="js/vendor/angular-1.2.28.min.js"></script>
        <script src="js/vendor/peer-0.3.0.min.js"></script>
        <script src="js/vendor/moment-2.9.0.min.js"></script>
        <script src="js/common.js"></script>
        <script src="js/YoloBearPeer.js"></script>
        <script src="js/YoloBearTournament.js"></script>
        <script src="js/Controller1.js"></script>

<script>
  
  $(document).ready(function() {
    // Show browser version
    $('#browsers').text(navigator.userAgent);
  });

</script>
</head> 
 
<body> 

<div ng-controller="YoloBearPeer">
  Your PeerJS id is : {{id}}<br><br>
  Admin is {{whoIsAdmin()}}, {{whoIsAdmin2()}}<br><br>
  Connect to peer: <input type="text" ng-model="rid" placeholder="Someone else's id">
                   <button ng-click="connectOut(rid); rid=''; ">Connect</button>
  <br><br>
  
  <div id="chat_area" ng-show="peers().length>0">
    <input type="text" ng-model="msg" placeholder="Enter message">
    <ul>
    <li ng-repeat="p in peers()">
	{{p}} &nbsp; {{peerList(p)}} &nbsp;
	<button ng-click="send(p);" ng-show="p!=id" ng-disabled="!alive[p]">Send</button>
	<ul>
	<li ng-repeat="pm in peerMsgs(p)">{{pm.ts}}: {{pm.msg}}</li>
	</ul>
    </li>
    <li>
	{{id}} &nbsp; (me)
	<ul>
	<li ng-repeat="pm in peerMsgs(id)">{{pm.ts}}: {{pm.msg}}</li>
	</ul>
    </li>

    </ul>
  </div>
  
<br/>

<div ng-controller="Controller1">
Teams<br>
<ul><li ng-repeat="te in ybt.teams">{{te.name}}: {{teamPlayers(te.id)}} </li></ul>
New team<br>
<input type='text' ng-model="newTeam.name" placeholder="Name" required><br>
<button ng-click="addTeam()">Add</button>
<br>

Players<br>
<ul><li ng-repeat="pl in ybt.players">{{pl.name}} - {{pl.team}}</li></ul>
New player<br>
<input type='text' ng-model="newPlayer.name" placeholder="Name" required><br>
<select size=5 ng-model="newPlayer.team" ng-options="te.id as te.name for te in ybt.teams"></select><br>

<button ng-click="addPlayer()">Add</button>
<br>

Games<br>
<ul><li ng-repeat="ga in ybt.games">
{{ga.team1}} ({{ga.team1Score}} &nbsp;
<button ng-click="setGameScore(ga.id,ga.team1Score+1,ga.team2Score)">+</button>
<button ng-click="setGameScore(ga.id,ga.team1Score-1,ga.team2Score)">-</button>)
x
{{ga.team2}} ({{ga.team2Score}} &nbsp;
<button ng-click="setGameScore(ga.id,ga.team1Score,ga.team2Score+1)">+</button>
<button ng-click="setGameScore(ga.id,ga.team1Score,ga.team2Score-1)">-</button>)
</li></ul>
New game<br>
<select size=5 ng-model="newGame.team1" ng-options="te.id as te.name for te in ybt.teams"></select>
<select size=5 ng-model="newGame.team2" ng-options="te.id as te.name for te in ybt.teams"></select><br>

<button ng-click="addGame()">Add</button>
<br>


</div>

</div><!-- end YoloBearPeer-->
  
  <br><br><br>
  <p style="font-size: 10px;">Your browser version: <span id="browsers"></span><br>
  Currently <strong>Google Chrome 26.0.1403.0 or above</strong> is required (Dev or Canary channels)</strong><br><br>For more up to date compatibility information see <a href="http://peerjs.com/status">PeerJS WebRTC Status</a><br><br>Note that this demo may also fail if you are behind stringent firewalls or both you and the remote peer and behind symmetric NATs.</p>
  
</body> 
</html> 

